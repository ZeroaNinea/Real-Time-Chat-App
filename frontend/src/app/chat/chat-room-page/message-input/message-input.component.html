@if (replyingToMessage) {
<div class="reply-indicator">
  Replying to <strong>{{ replyingToMessage.sender }}</strong
  >: "{{ replyingToMessage.text }}"
  <button mat-icon-button (click)="cancelReply.emit()">
    <mat-icon>close</mat-icon>
  </button>
</div>
}
<div class="message-input-container">
  <div class="input-row">
    <textarea
      #textarea
      [(ngModel)]="message"
      (ngModelChange)="messageChange.emit($event)"
      (keydown.enter)="
        replyingToMessage ? onReply.emit(replyingToMessage) : onEnter($event)
      "
      placeholder="Type a message"
      class="message-textarea"
    ></textarea>

    <div class="button-row">
      <button mat-icon-button><mat-icon>insert_emoticon</mat-icon></button>
      <button
        mat-icon-button
        (click)="
          replyingToMessage ? onReply.emit(replyingToMessage) : onClick($event)
        "
      >
        <mat-icon>send</mat-icon>
      </button>
    </div>
  </div>
</div>
